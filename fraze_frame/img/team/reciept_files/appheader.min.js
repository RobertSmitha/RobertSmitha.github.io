ux.eldorado=ux.eldorado||{},ux.eldorado.jQuery=ux.jQuery,ux.eldorado.util=function(a,b,c){function d(a){var b=k.getItem(a,"");return!!b&&JSON.parse(decodeURI(b))}function e(a,b){k.setItem(a,decodeURI(JSON.stringify(b)))}function f(a){k.removeItem(a)}function g(b,c){var d=a(b);c=c||"pc-qry";var e=d.data(c)||"";e.length>0&&(e="?"+e.replace(/^[&?]/,""));var f=d.data("pc-href")||d.attr("href");return f+e}function h(){var a=ux.util.cookie.readJson("info_idp");if(a)return("basic"===a.auth?a:a[a.auth]).info_shopperId}function i(){return ux.sid||h()}function j(b){var c=i();c&&a.ajax({dataType:"json",url:ux.eldorado.urls.myPinUrl,data:{shopperId:c},xhrFields:{withCredentials:!0},success:function(c){var d=!1;a(b).on("click",function(){return d=!d,a(b).text(d?c:"****"),!1})}})}var k=new ux.util.storage({cookiesDisabled:!0});return{getStorageItem:d,setStorageItem:e,removeStorageItem:f,getPCQryUrl:g,getSID:i,retrieveShopperPin:j}}(ux.eldorado.jQuery,_),ux.eldorado.delegationUI=function(a,b,c,d,e){function f(a,b,c,d){if(c&&b&&0!==a.length){var e,f=a.find(".acct-delegate-text");f.data("template")||f.data("template",f.html()),e=f.data("template"),e=ux.eldorado.shopperUI.renderName(e,"{firstName}","{lastName}",c),f.text(e.replace("{delegate}",b.displayName||b.firstName)),f[d?"addClass":"removeClass"]("refreshed"),a.show()}}function g(b,c,d,e){var g=a("#uxh-acct-delegate");if(0!==g.length)if(["s2s","e2s","e2s2s"].indexOf(b)>-1){var i=["e2s2s","s2s"].indexOf(b)>-1?"-cust":"-rep";f(g.find(".delegate"+i),c,d,e),["e2s2s"].indexOf(b)>-1&&(f(g.find(".delegate-rep"),c.del,c,e),g.addClass("delegate-db-shim")),"-rep"===i&&h(d),g.show()}else g.hide()}function h(a){var b=window.document.title,c=b.indexOf("]");b=c>-1?b.substr(c+2):b,window.document.title="["+a.shopperId+"] "+b}function i(){n===!0&&d.turnOffTabFocusCheck(),d.turnOnTabFocusCheck({callback:function(a,b,c,d){m&&g(a,b,c,d)}}),n=!0}function j(){a("#exit-delegation-link").on("click",function(){var b=a(this),c=a('<form id="del-switchback" method="POST" style="display:none;"><input type="hidden" name="secret" /></form>').appendTo(document.body);c.attr("action",b.attr("data-action")),c.find("input").attr("value",b.attr("data-sk")),c.submit()})}function k(a,b,c,e){var f=ux.eldorado.delegationUI,g=function(){_.isFunction(e)&&e(a),f.initBars(!0),f.initTabFocusAuth(),f.initHeader()};d.init(a,b,c,g)}function l(a){m=!(a===!1),g(d.delegationType(),d.delegateInfo(),d.customerInfo()),m===!0&&i(),j()}var m=!0,n=!1;return{init:k,initBars:l,initTabFocusAuth:function(){i()},initHeader:function(){"s2s e2s e2s2s".indexOf(d.delegationType())>-1&&a(".uxh-no-delegate").hide()}}}(jQuery,ux.i18n.header,ux.util,ux.acctDelegation),ux.eldorado.shopperUI=function(a,b,c){function d(a,b,c,d){d=d||ux.acctDelegation.customerInfo();var e="undefined"!=typeof d.displayName;return a.replace(b,e?d.displayName:d.firstName).replace(c,e?"":d.lastName)}function e(a){b.isFunction(a)&&(g=a)}function f(a){g(a)}var g=function(){};return{init:e,update:f,renderName:d}}(jQuery,_),ux.eldorado.thirdParty=function(a,b,c){function d(a){!a||!a.js||ux.disable&&ux.disable.tealium===!0||b.load.script({url:a.js,preLoad:function(){var a=window;a.utag_data=a.utag_data||{},a.utag_data.pl_id=ux.eldorado.data.plId,a.utag_data.shopper_id=ux.eldorado.data.shopperId,a.utag_data.app_name=ux.eldorado.data.app,_.extend(a.utag_data,ux.utagconfig)},attrs:{async:!0}})}function e(c){c&&c.js&&c.css&&(!ux.disable||ux.disable.livePerson!==!0)&&b.load.files([{typ:"script",url:c.js,preLoad:function(){a("body").append(a('<div id="lpButtonDiv"></div>'))},when:"documentReady",postLoad:function(){ux.util.bs.breakpoints.onChange(function(b){a("#chat-popup").css("display","xs"===b?"none":"")})}},{typ:"css",url:c.css,when:"documentReady"}])}function f(a){ux.disable&&ux.disable.ga===!0||b.load.script({url:"//www.googletagmanager.com/gtm.js?id="+a+"&l=_gaDataLayer",preLoad:function(){var a=window,b="_gaDataLayer";a[b]=a[b]||[],a[b].push({"gtm.start":(new Date).getTime(),event:"gtm.js"})},attrs:{async:!0},anchor:document.getElementsByTagName("script")[0],where:"before"})}function g(a){var b=window,c=_.union(a.data,ux.gaconfig||[]);b._gaDataLayer=b._gaDataLayer||[];for(var d=0,e=c.length;d<e;d++)b._gaDataLayer.push(c[d]);b._gaq=b._gaq||[],b._gaq.push(["_setDomainName",a.domain])}function h(){if(ux&&ux.traffic2){var a=window.location,b=uxel.data;ux.traffic2.pushEvent({event:"uxpHeaderServed",eid:b.impression,app:b.app,alias:b.appAlias,hostname:a.hostname,path:a.path,query:a.search,market:b.market,lang:b.languageName,country:b.countryName,currency:b.currency,uiTheme:b.uiTheme,split:b.split})}}return{initTealium:d,initLivePerson:e,initGATagManager:f,configGATagManager:g,impr:h}}(jQuery,ux.util),ux.eldorado.cart=function(a,b,c){function d(a){var b;return b=a&&"object"==typeof a?parseInt(a.carttotal,10):parseInt(a,10),b=b||0,f.itemCount=b,e(b),b}function e(b){var c=b<=0,d=a("#cart-link a, #uxh-cart-link a, #uxh-cart-link-mobile a, .nav-cart a"),e=(c?"is":"not")+"-empty",f=(c?"not":"is")+"-empty";d.removeClass(f).addClass(e).parent().removeClass(f).addClass(e),d.find("span."+f).hide(),d.find("span."+e).html((d.data("content-"+e)||"").toString().replace("{total}",b)).show()}var f={itemCount:0};return{update:d,getItemCount:function(){return f.itemCount}}}(ux.eldorado.jQuery,_),ux.eldorado.ssoLinks=function(a,b){function c(){var b=a("#uxh-nav-logged-out a, #uxh-nav-logged-in a, #uxh-nav-logout-link, #ux-ub-sign-in");0!==b.length&&b.each(function(){var b=a(this),c=ux.eldorado.data.ssoApp;"www"===c&&"/"===window.location.pathname&&(c="mya");var d=b.attr("href").replace(decodeURIComponent(ux.eldorado.data.tokens.loginApp),c).replace(decodeURIComponent(ux.eldorado.data.tokens.loginPath),"");b.attr("href",d)})}return{init:c}}(jQuery),ux.eldorado.inappHelp=function(a,b,c,d){function e(){b.data.inappHelpSupported&&(a(".ux-help-link").parent().click(m),a("body").on("mouseup",s).on("mousemove",t),a(window).on("resize",i).on("beforeunload",n),ux.eldorado.ready(function(){q()&&g()}))}function f(c,d){var e=a('<div class="ux-help-container" />'),f=a('<div class="ux-help-panel ux-help-positioned" />'),g=a('<div class="ux-help-title-bar" />'),j=a('<div class="headline-primary" />'),k=a('<div class="uxicon uxicon-x" />'),l=a('<iframe class="ux-help-content" frameBorder="0" />');return d||(d=b.texts.inappHelpTitle),k.on("click touchstart",h),e.on("mousedown",r).on("touchstart",u).on("touchmove",v).on("touchend",w),l.attr("src",c),j.text(d),g.append(j).append(k),e.append(f),f.append(g),f.append(l),a(document.body).append(e),i(),e}function g(){var a=p();a&&(f(c.replaceQSValue("last","true",a.url)),k(a.x,a.y),j(a.height))}function h(){a(".ux-help-container").remove(),o()}function i(){k(),j()}function j(b){var c=a(".ux-help-container");if(0!==c.length){var d=c.find(".ux-help-panel"),e=d.find(".ux-help-content"),f=0;a.isNumeric(b)||(b=a(window).height()-parseInt(c.css("top"),10)-D),b<E&&(b=E),f=b-c.height(),e.height(e.height()+f),d.height(d.height()+f),c.height(c.height()+f)}}function k(b,c){var d=a(".ux-help-container");0!==d.length&&(a.isNumeric(b)||(b=a(window).width()-d.width()-C,b<A&&(b=A)),a.isNumeric(c)||(c=B),d.css({left:b,top:c}))}function l(a){if(b.data.inappHelpSupported===!1)return!1;if("true"!==a.attr("data-inapp-enabled"))return!1;var c=ux.util.bs.breakpoints.current();return"lg"===c||"md"===c}function m(){var b=a(this).find("a"),d=c.replaceQSValue("inapp","true",b.attr("href"));if(l(b))return f(d),!1}function n(){var b=a(".ux-help-container");if(0!==b.length){var c=window.location.host,d=(b.position(),b.find("iframe").attr("src")),e=+new Date,f={timestamp:e,host:c,url:d,x:parseInt(b.css("left"),10),y:parseInt(b.css("top"),10),height:b.height(),width:b.width()};G.setItem(H,JSON.stringify(f))}}function o(){G.removeItem(H)}function p(){var a=G.getItem(H);if(a)try{return JSON.parse(a)}catch(a){}return d}function q(){var a=p();if(!a||!a.url)return!1;var b=+new Date;return!(b-a.timestamp>F)&&a.host===window.location.host}function r(b){return y=b.pageX-b.currentTarget.offsetLeft,z=b.pageY-b.currentTarget.offsetTop,a(".ux-help-panel").addClass("ux-help-dragging").removeClass("ux-help-positioned"),x=!0,!1}function s(){if(x)return a(".ux-help-panel").addClass("ux-help-positioned").removeClass("ux-help-dragging"),x=!1,!1}function t(b){if(x)return a(".ux-help-container").css({left:b.pageX-y,top:b.pageY-z}),!1}function u(b){return y=b.originalEvent.touches[0].pageX-b.currentTarget.offsetLeft,z=b.originalEvent.touches[0].pageY-b.currentTarget.offsetTop,a(".ux-help-panel").addClass("ux-help-dragging").removeClass("ux-help-positioned"),x=!0,!1}function v(b){if(x)return a(".ux-help-container").css({left:b.originalEvent.touches[0].pageX-y,top:b.originalEvent.touches[0].pageY-z}),!1}function w(){if(x)return a(".ux-help-panel").addClass("ux-help-positioned").removeClass("ux-help-dragging"),x=!1,!1}var x=!1,y=-1,z=-1,A=100,B=50,C=0,D=50,E=350,F=1e4,G=new ux.util.storage,H="inapp-help-state";return{init:e,open:f,close:h,reopen:g,forgetState:o,rememberState:n,getStateData:p}}(jQuery,ux.eldorado,ux.util.url),ux.eldorado.footer=function(a,b,c){function d(){a(".ux-footer").css("height","auto");var b=a(".ux-footer").outerHeight();a("body").css("margin-bottom",b),a(".ux-footer").css("height",b)}function e(){a(document).ready(function(){a(".ux-footer").length>0&&a("html").addClass("ux-footer-html"),d(),a(window).resize(_.debounce(d,100))})}return{init:e,setHeight:d}}(jQuery,ux.util),function(a,b,c,d){var e={},f="Notification_Set",g="Notification_Get",h="Notification_Req",i="impression",j="click",k=b.traffic2.trackEvent,l="notify:",m=c.PropTypes.shape({click:c.PropTypes.string.isRequired,impression:c.PropTypes.string.isRequired}),n=c.PropTypes.shape({href:c.PropTypes.string.isRequired,title:c.PropTypes.string.isRequired}),o=c.PropTypes.shape({noNotificationsTitle:c.PropTypes.string.isRequired,noNotificationsText:c.PropTypes.string.isRequired,headerText:c.PropTypes.string.isRequired,failedNotificationsTitle:c.PropTypes.string.isRequired,failedNotificationsText:c.PropTypes.string.isRequired,failedNotificationsLink:c.PropTypes.string.isRequired}),p=c.PropTypes.shape({title:c.PropTypes.string.isRequired,text:c.PropTypes.string.isRequired,severity:c.PropTypes.string.isRequired,eids:m.isRequired,_links:c.PropTypes.shape({resolve:n.isRequired}).isRequired}),q=c.createClass({displayName:"NotificationListItem",propTypes:{notification:p.isRequired,onNotificationClick:c.PropTypes.func.isRequired},render:function(){var a=this.props.notification,b=a._links.resolve,d="uxicon priority "+a.severity+" "+a.type;return c.createElement("div",{className:"notification-list-item font-base"},c.createElement("div",{className:d}),c.createElement("a",{href:b.href,onClick:this.props.onNotificationClick,"data-event-id":a.eids.click,className:"notification-content"},a.text))}}),r=c.createClass({displayName:"NotificationsList",propTypes:{notifications:c.PropTypes.arrayOf(p).isRequired,strings:o.isRequired,onCloseClick:c.PropTypes.func.isRequired,onNotificationClick:c.PropTypes.func.isRequired,failed:c.PropTypes.bool.isRequired},render:function(){var a,b=this;if(this.props.failed)a=c.createElement("div",{className:"notification-list-empty font-base"},c.createElement("div",{className:"uxicon uxicon-alert failure-icon"}),c.createElement("p",null,c.createElement("strong",null,this.props.strings.failedNotificationsTitle)),c.createElement("p",null,this.props.strings.failedNotificationsText),c.createElement("a",{href:e.ssoUrl},this.props.strings.failedNotificationsLink));else if(0===this.props.notifications.length)a=c.createElement("div",{className:"notification-list-empty font-base"},c.createElement("div",{className:"uxicon uxicon-alarm2 bell-icon"}),c.createElement("p",null,c.createElement("strong",null,this.props.strings.noNotificationsTitle)),c.createElement("p",null,this.props.strings.noNotificationsText));else{var d=0;a=this.props.notifications.map(function(a){return d++,c.createElement(q,{key:d,notification:a,onNotificationClick:b.props.onNotificationClick})})}return c.createElement("div",{className:"notification-list"},c.createElement("div",{className:"notification-list-header"},c.createElement("h4",{className:"headline-primary"},this.props.strings.headerText),c.createElement("a",{className:"uxicon uxicon-x close",onClick:this.props.onCloseClick})),a)}}),s=c.createClass({displayName:"NotificationBadge",propTypes:{badge:c.PropTypes.shape({count:c.PropTypes.number.isRequired,severity:c.PropTypes.string.isRequired}).isRequired,notifications:c.PropTypes.arrayOf(p).isRequired,strings:o.isRequired,dismissed:c.PropTypes.bool.isRequired,isOpen:c.PropTypes.bool.isRequired,onBadgeClick:c.PropTypes.func.isRequired,onCloseClick:c.PropTypes.func.isRequired,onNotificationClick:c.PropTypes.func.isRequired},componentDidMount:function(){var b=this,c=a("#uxh-nav-user-link");c.length&&c.click(function(a){b.props.onCloseClick(a,!0)}),a(document).click(function(c){a(b.props.parentElement).has(a(c.srcElement)).length||b.props.onCloseClick(c,!0)})},render:function(){var a=this.props.badge.severity;this.props.dismissed&&(a="dismissed");var b;this.props.isOpen&&(b=c.createElement(r,{failed:this.props.failed,notifications:this.props.notifications,strings:this.props.strings,onNotificationClick:this.props.onNotificationClick,onCloseClick:this.props.onCloseClick}));var d;return d=0===this.props.badge.count?c.createElement("a",{className:"uxicon uxicon-alarm2 notifications-bell",onClick:this.props.onCloseClick}):c.createElement("a",{className:"notifications-badge font-primary-bold "+a,onClick:this.props.onBadgeClick},this.props.badge.count,c.createElement("span",{className:"uxicon uxicon-alarm2 notifications-mini-bell"})),c.createElement("div",null,d,b)}}),t=c.createClass({displayName:"NotificationBadgeContainer",propTypes:{setCookie:c.PropTypes.func.isRequired,getCookie:c.PropTypes.func.isRequired,parentManifest:c.PropTypes.string.isRequired,container:c.PropTypes.object.isRequired,shopperID:c.PropTypes.string.isRequired,market:c.PropTypes.string.isRequired,isActive:c.PropTypes.func.isRequired,parentElement:c.PropTypes.object.isRequired,useJsonp:c.PropTypes.bool.isRequired},statics:{impressionsLogged:!1,iframeLoaded:!1,ajaxCall:null,getNotifications:function(c){var d=this;if(!d.ajaxCall){var f={url:e.apiUrl+"?plid="+b.eldorado.data.plId,xhrFields:{withCredentials:!0}};c&&(f.contentType="application/json",f.dataType="jsonp",window.setTimeout(function(){1===d.ajaxCall.progress().readyState&&d.ajaxCall.abort()},3e3)),d.ajaxCall=a.ajax(f)}return this.ajaxCall}},getInitialState:function(){return{badge:{count:0,severity:"none"},reqFailedCount:0,notifications:[],strings:e.strings,isOpen:!1,isLoaded:!1,dismissed:"true"===this.props.getCookie("notificationsDismissed")||!1,requestFailed:!1}},dismiss:function(){this.state.dismissed=!0;var a=b.util.url.getHostParts(),c=[a.domain,".",a.tld].join("");this.props.setCookie("notificationsDismissed",!0,0,"/","."+c)},handleBadgeClick:function(b,c,d){if(!this.state.isLoaded||!this.props.isActive())return!1;var e=a(this.props.parentElement);return this.state.isOpen=!this.state.isOpen,c===!0&&(this.state.isOpen=!1),d===!0&&(this.state.isOpen=!0),this.state.isOpen?(e.addClass("open"),this.bellClickLogImpressions(),this.dismiss()):e.removeClass("open"),this.forceUpdate(),!1},handleNotificationClick:function(b){var c=a(b.target).data("eventId");if(b.stopPropagation(),c){var d=b.target.href;k({eid:c,event:j}),d&&setTimeout(function(){window.location.href=d},50)}return!1},bellClickLogImpressions:function(){var a=this.props.parentManifest;this.state.notifications.length>0?(k(this.state.dismissed?{eid:a+".notifications.seencounterbell.click",event:j}:{eid:a+".notifications.unseencounterbell.click",event:j}),this.state.notifications.forEach(function(a){k({eid:a.eids.impression,event:i})})):k({eid:a+".notifications.emptybell.click",event:j})},notesLoadLogImpressions:function(){if(!t.impressionsLogged){t.impressionsLogged=!0;var a=this.props.parentManifest;k(this.state.notifications.length>0?this.state.dismissed?{eid:a+".notifications.seencounterbell.impression",event:i}:{eid:a+".notifications.unseencounterbell.impression",event:i}:{eid:a+".notifications.emptybell.impression",event:i})}},isCacheValid:function(a){return a&&a.shopperID&&a.shopperID===this.props.shopperID&&a.market&&a.market===this.props.market&&a.timestamp&&Date.now()-a.timestamp<864e5},postMessage:function(a){if("object"!=typeof a)return!1;var b;try{b=JSON.stringify(a)}catch(a){return!1}return this.cacheFrame.contentWindow.postMessage(l+b,"*"),!0},deserializeMessage:function(a){if("object"==typeof a)return a;if("string"==typeof a&&a.substr(0,l.length)===l)try{var b=JSON.parse(a.substr(l.length));return b}catch(a){}return null},receiveMessage:function(a){var b=this,c=function(a){b.props.container.addClass("logged-in"),b.state.badge=a.badge,b.state.notifications=a.notifications,b.state.isLoaded=!0,b.state.isOpen=!1,b.notesLoadLogImpressions(),b.forceUpdate()},d=b.deserializeMessage(a.data);null!==d&&d.type&&d.type===g&&(b.isCacheValid(d.payload)?c(d.payload):t.getNotifications(b.props.useJsonp).then(function(a){function d(a){return a.replace("mya.products.account_header","globalheader.notifications")}a.notifications.map(function(a){a.eids.impression=d(a.eids.impression),a.eids.click=d(a.eids.click)}),c(a),a.shopperID=b.props.shopperID,a.market=b.props.market,a.timestamp=Date.now(),b.postMessage({type:f,payload:a},"*")},function(){b.props.container.addClass("logged-in"),b.state.reqFailedCount<1?b.postMessage({type:h},"*"):(b.state.requestFailed=!0,b.state.isLoaded=!0),b.state.reqFailedCount++,b.forceUpdate()}),b.forceUpdate())},componentWillMount:function(){var a=this,b="notificationCacheFrame";window.addEventListener("message",a.receiveMessage,!1),!a.cacheFrame&&t.iframeLoaded?a.cacheFrame=document.getElementById(b):a.cacheFrame||t.iframeLoaded||(t.iframeLoaded=!0,a.cacheFrame=document.createElement("iframe"),a.cacheFrame.src=e.iframeCacheUrl,a.cacheFrame.id=b,a.cacheFrame.className="notification-cache",document.body.appendChild(a.cacheFrame)),a.forceUpdate()},render:function(){return c.createElement("div",null,c.createElement(s,{failed:this.state.requestFailed,badge:this.state.badge,notifications:this.state.notifications,strings:this.state.strings,isOpen:this.state.isOpen,isLoaded:this.state.isLoaded,dismissed:this.state.dismissed,onBadgeClick:this.handleBadgeClick,onCloseClick:this.handleBadgeClick,onNotificationClick:this.handleNotificationClick,parentElement:this.props.parentElement}))}});!function(b){b(a)}(function(a){if(!(a.support&&a.support.cors||!a.ajaxTransport)&&window.XDomainRequest){var b=/^https?:\/\//i,c=/^get|post$/i,d=new RegExp("^"+location.protocol,"i");a.ajaxTransport("* text html xml json",function(e,f,g){if(e.crossDomain&&e.async&&c.test(e.type)&&b.test(e.url)&&d.test(e.url)){var h=null;return{send:function(b,c){var d="",g=(f.dataType||"").toLowerCase();h=new XDomainRequest,/^\d+$/.test(f.timeout)&&(h.timeout=f.timeout),h.ontimeout=function(){c(500,"timeout")},h.onload=function(){var b="Content-Length: "+h.responseText.length+"\r\nContent-Type: "+h.contentType,d={code:200,message:"success"},e={text:h.responseText};try{if("html"===g||/text\/html/i.test(h.contentType))e.html=h.responseText;else if("json"===g||"text"!==g&&/\/json/i.test(h.contentType))try{e.json=a.parseJSON(h.responseText)}catch(a){d.code=500,d.message="parseerror"}else if("xml"===g||"text"!==g&&/\/xml/i.test(h.contentType)){var f=new ActiveXObject("Microsoft.XMLDOM");f.async=!1;try{f.loadXML(h.responseText)}catch(a){f=void 0}if(!f||!f.documentElement||f.getElementsByTagName("parsererror").length)throw d.code=500,d.message="parseerror","Invalid XML: "+h.responseText;e.xml=f}}catch(a){throw a}finally{c(d.code,d.message,e,b)}},h.onprogress=function(){},h.onerror=function(){c(500,"error",{text:h.responseText})},f.data&&(d="string"===a.type(f.data)?f.data:a.param(f.data)),h.open(e.type,e.url),h.send(d)},abort:function(){h&&h.abort()}}}})}}),b.eldorado.notifications=function(){function f(){return"withCredentials"in new XMLHttpRequest}var g=[];return{open:function(){return g.forEach(function(a){a.handleBadgeClick({stopPropagation:function(){}},!1,!0)}),!0},init:function(){function h(e,h){function i(){h()?a(e).css({display:"table-cell"}):a(e).hide()}var n=d.render(c.createElement(t,{setCookie:b.util.cookie.set,getCookie:b.util.cookie.read,parentManifest:j.manifest,container:l,shopperID:k,market:m,isActive:h,parentElement:e,useJsonp:!f()}),e);g.push(n),a(window).resize(i),i()}function i(){return n.length&&"xs"===b.util.bs.breakpoints.current()}var j=b.eldorado.data;if(j&&(e=j.notifications),e&&e.enabled){var k=b.eldorado.util.getSID();if(k){var l=a("#notifications"),m=b.util.cookie.read("market")||"en-US",n=a("#notifications-mobile");n.length&&h(n[0],function(){return i()}),l.length&&h(l[0],function(){return!i()})}}}}}()}(window.ux.jQuery,window.ux,window.ux.React,window.ux.ReactDOM),ux.eldorado.pro=function(a,b,c){function d(b){var c=b.proshopper&&1===b.proshopper.status;a("#uxh-pro-dashboard-link").toggle(c),a("#sign-in, #uxh-nav-user-link").toggleClass("is-pro",c)}return{update:d}}(ux.eldorado.jQuery,_),ux.eldorado.header=function(a,b,c,d,e,f){function g(b,c,f,g){var i={},j="";u&&(i.shopper_id=c,i.mstk=f,j="shopper_id="+c+"&mstk="+f),g&&(i.prog_id=g,j+=(j.length>0?"&":"")+"prog_id="+g);var k=e.getSID(),l=b+"/pcjson/applicationheader/"+(k?"?sid="+k:"");a.ajax({contentType:"text/javascript; charset=utf-8",dataType:"jsonp",url:l,data:i,success:function(b){b=b||{},b.loggedIn="partial full manager".indexOf(b.status)>-1,b.shopperid&&b.shopperid.length>0?(x.shopperUI.init(function(b){h(a.extend(!0,{},v,b))}),"string"==typeof f&&f.length||d.init(b,x.data,l+(j.length?"?":"")+j,x.shopperUI.update)):h(b)},error:function(){h({loggedIn:!1})}})}function h(b){i(b.loggedIn),b.loggedIn&&(j(b),k(b),a("#uxh-s-header")[w.shopperInfo||w.shopperIcons?"show":"hide"]()),l(b),m(b)}function i(b){a("#uxh-nav-product")[b?"addClass":"removeClass"]("uxh-m-logged-in"),a(".uxh-logged-out")[b?"hide":"show"](),a(".uxh-logged-in")[b?"show":"hide"]()}function j(b){var c=decodeURIComponent(x.data.formats.sfullname),d=decodeURIComponent(x.data.formats.smenu),f=x.shopperUI.renderName(d,"{f}","{l}"),g=f===b.shopperid;a("#uxh-s-name-prefix")[g?"show":"hide"](),f.length>0&&a("#uxh-s-name").text(f),g||a("#uxh-s-fullname").text(x.shopperUI.renderName(c,"{f}","{l}")).show(),b.shopperid.length>0&&!g&&(a("#uxh-s-id").text(b.shopperid||""),e.retrieveShopperPin("#uxh-s-pin"),a("#uxh-mi-custid").show()),b.mgrid.length>0&&b.mgrname.length>0&&(a("#uxh-mgr-id").text(b.mgrid||""),a("#uxh-mgr-name").text(b.mgrname||""),a("#uxh-mi-mgrid").show(),a("#uxh-mi-mgrname").show()),x.cart&&x.cart.update(b),x.pro&&x.pro.update(b),w.shopperInfo=!g}function k(b){var c=!1;if(a("#uxh-s-status").empty(),b.pricetypes&&b.pricetypes.length>0){c=!0;for(var d=0,e=b.pricetypes.length;d<e;d++)a("#uxh-s-status").append(a("<span></span>").addClass("uxc-pt-icon uxc-pt-icon-"+b.pricetypes[d]))}b.vip&&(c=!0,a("#uxh-s-status").append(a("<span></span>").addClass("uxc-pt-icon uxc-pt-icon-vip")),a("#uxh-vip-info").show(),a("#uxh-vip-phone").text(b.vip.phone),a("#uxh-vip-email").attr("href","mailto:"+b.vip.email).text(b.vip.email),a("#uxh-vip-repname").text(b.vip.repname)),a("#uxh-s-status")[c?"show":"hide"](),w.shopperIcons=c}function l(b){w.productsMenu=t;var c=!1,d=a("#uxh-s-products");if(0!==d.length){var e=d.prev("a");if(b.loggedIn&&"true"===d.attr("data-showops").toLowerCase()||d.empty(),b.products&&b.products.length>0){var f=!1;for(var g in b.products){var h=b.products[g];h.key!==s?d.append(a("<li>").append(a("<a />").attr({role:"menuitem",href:h.url}).text(h.name))):(0===a("#uxh-product").text().length&&a("#uxh-product").text(h.name),f=!0)}w.productsMenu=c}c=t&&d.children().length>0,a("#uxh-products-arrow")[c?"show":"hide"](),d[c?"attr":"removeAttr"]("role","menu"),d[c?"addClass":"removeClass"]("dropdown-menu"),e[c?"attr":"removeAttr"]("data-toggle","dropdown"),e[c?"addClass":"removeClass"]("dropdown-toggle")}}function m(b){var c=a("#uxh-i-server").text();a("#uxh-i-server")[c.length>0&&c.indexOf("{{")<=-1?"show":"hide"]()}function n(){var b=a("#uxh-nav-app-menu").find("li.active > a").filter(":last").text();a("#uxh-nav-app-caption").text(""==b?a("#uxh-nav-app-active").attr("data-default-caption"):b)}function o(){a("#uxh-nav-product").text(a("#uxh-product").text())}function p(){a("#uxh-nav-app-active").css("display",0===a("#uxh-nav-app-menu").find("li").length?"none":"")}function q(){a("#uxh-nav-app")[a("#uxh-nav-app-menu").find("li").length<2&&a("#uxh-nav-app").find(".navbar-nav").length<2?"addClass":"removeClass"]("navbar-nav-single-li")}function r(){a("#uxh-nav-collapse").on("show.bs.collapse",function(){a("#uxh-nav-app-collapse.in").collapse("hide"),a('[data-target="#uxh-nav-app-collapse"]').addClass("collapsed")}),a("#uxh-nav-app-collapse").on("show.bs.collapse",function(){a("#uxh-nav-collapse.in").collapse("hide"),a('[data-target=".uxc-header-nav"]').addClass("collapsed")})}var s,t=!0,u=!1,v={name:"",username:"",fullname:"",shopperid:"",carttotal:0,mgrid:"",mgrname:""},w={shopperInfo:!0,shopperIcons:!0,ProductsMenu:!0},x=ux.eldorado;return setTimeout(function(){function a(a){_.isFunction(a)&&a()}var b=x.fns;if(_.isArray(b))for(;b.length;)a(b.pop());x.ready=a,delete x.fns},0),{load:function(b,d,e,h,i){s=d;var j=!e||e.indexOf("pc:shopperid")>-1?f:e,k=!h||h.indexOf("pc:mstk")>-1?f:h;u="undefined"!=typeof j&&"undefined"!=typeof k,a(document).ready(function(){a("#uxh").length>0&&(g(b,j,k,i),x.ssoLinks&&x.ssoLinks.init(i),x.inappHelp&&x.inappHelp.init(),x.notifications&&x.notifications.init(),r(),c.bs.breakpoints.onXS(function(){p(),q(),n(),o()}))}),x.thirdParty.initTealium(x.data.thirdParty.tealium),x.footer&&x.footer.init()},setupMobileMenuToggle:r,setupMobileActiveMenuHeader:p,setupMobileMenuCollapsible:q,populateActiveMenuCaption:n,populateProductCaption:o}}(jQuery,ux.i18n.header,ux.util,ux.eldorado.delegationUI,ux.eldorado.util);